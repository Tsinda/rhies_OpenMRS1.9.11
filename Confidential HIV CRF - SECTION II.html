<htmlform>
	<!-- Autogenerated example form  (template from 01-Nov-2010 -->
	<macros>
		paperFormId = (Fill this in)
		headerColor =#009d8e
		fontOnHeaderColor = white
		@DEMOGRAPHIC_CHANGE@=105628
		@RISK_FACTOR_CHANGE@=105629
		@STABLE@=105626
		@NUMBER_OF_SEXUAL_PARTNERS_NOT_REPORTED_AT_LAST_VISIT@=105630
		@LAST_PHARMACY_PICK_UP@=105631
		<!-- CURRENT ART INFORMATION -->
		@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED@=1252
		@CHANGE_REGIMEN_DATE@=	105528
		@REGIMEN_FAILURE@=843
		@INTERACTION_WITH_TUBERCULOSIS_DRUG@=6434
		@DRUG_OUT_OF_STOCK@=1761
		@PATIENT_PREGNANT@=1755
		@TOXICITY@=102
		<!-- @REASON_ANTIRETROVIRALS_SUBSTITUTE_OR_CHANGE@=6399 -->
		@DRUG_TOXICITY_TYPES@=105632
		@Gastrointestinal@=26756
		@SKIN_RASH@=10918
		@CNS@=2583
		@KIDNEY_DYSFUNCTION@=3429
		@HEPATIC_DYSFUNCTION@=2854
		@FATIGUE@=5949
		@BONE_DYSFUNCTION@=10903
		@METABOLIC@=18147
		@HEADACHE@=620
		@OTHER_NON_CODED@=5622
		@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED_NON_CODED@=3127
    	<!-- CURRENT CLINICAL INFORMATION -->
    	@CASE_BASED_SURVEILLANCE_CLIENT_OUTCOME@=105635
    	@ALIVE_AND_ON_ART@=105634
		@TREATMENT_STOPPED@=1579
		@LOST_TO_FOLLOWUP@=5240
		@TRANSFER_OUT_TO@=3003
		@Death@=12710
		@Other_Cause_of_Death@=12711
		@OUTCOME_DATE@=105636
		@TRANSFER_OUT_TO@=3003
		<!-- ART ADHERENCE $ TPT OUTCOME -->
		@OVERALL_TREATMENT_ADHERENCE@=2307
		@GOOD@=1897
		@FAIR@=1898
		@POOR@=1899
		@ENHANCED_COUNSELLING@=105637
		<!-- TPT OUTCOME -->
		@CLIENT_TPT_OUTCOME@=105638
		@COMPLETED_TPT@=105639
		@TPT_THERAPY_IN_PROGRESS@=105640
		@DEFAULTED_TB@=1567
		@ADVERSE_EFFECT@=1297
		@ACTIVE_TB@=58
		@CONTRAINDICATIONS_OTHER_THAN_ACTIVE_TB@=105641
		@HEPATIC_FAILURE@=26580
		@DEATH@=12710
		@TPT_OUTCOME_DATE@=105642

		@YES@=1065
		@NO@=1066
	</macros>

	<style>
		th.tableHeader {
	        background-color: #009d8e;
	        color: #FFFFFF;
	        font-size: 16px;
	        text-align: left;
        }
		.section {
			border: 1px solid $headerColor;
			padding: 2px;
			text-align: left;
			margin-bottom: 1em;
		}
		.sectionHeader {
			background-color: $headerColor;
			color: $fontOnHeaderColor;
			display: block;
			padding: 2px;
			font-weight: bold;
			text-align: center;
		}
		tr.spaceUnder>td {
        	padding-bottom: 1em;
        }

        td {
        	font-size: 15px;
        }
		table.baseline-aligned td {
			vertical-align: baseline;
		}
		table,td,th {
        border: 1px solid black;
        border-collapse: collapse;
        }

        th {
        text-align: left;
        background-color: #D9D9D9;
        font-size: 10px;
        }
        #htmlFormEntryBanner {
        display: none;
        }

        .error {
        display: none;
        }

        .lables {
        width: 200px;
        }

        table {
        width: 100%;
        }

       .selectedCancerStagingKeys {
        page-break-before: always;
        border: 0px;
        }

        table.selectedCancerStagingKeys td {
        border: 0px;
        }
	</style>

	<script type="text/javascript">

		if(jQuery){
			$j(document).ready(function(){
				// Initially, Hide the following elements when form is loaded
				$j("#sexualPartners, #tptProgressReasons, #tptProgressReasons, #deathCause, #transferTo, #toxicityTypes").
					hide(); 
				// $j("#tptProgressReasons").hide(); 
				// $j("#deathCause").hide();
				// $j("#transferTo").hide();

				$j("#riskFactorYes").click(function(){
					//$j("#divInduvidal").hide(); 
			    	$j("#sexualPartners").show(); 
				});        
				$j("#riskFactorNo").click(function(){
					$j("#sexualPartners").hide(); 
			        //$j("#divInduvidal").show(); 
			    }); 

			    $j("#to").click(function (){
			    	$j("#transferTo").show();
			    });
			    // $j('#toxicity').click(function(){
			    // 	$j("#toxicityTypes").show();
			    // });

			    $j("#death").click(function(){
			         $j("#deathCause").show(); 
			        //$j("#divInduvidal").show(); 
			    });
			    $j("#aliveOnArt, #ltfu, #to, #stoppedArt").click(function(){
			    	$j("#deathCause").hide()
			    });

			    $j("#aliveOnArt,#ltfu, #death, #stoppedArt").click(function(){
			    	$j("#transferTo").hide()
			    });

			    $j("#tptInPregress").click(function(){
			    	$j("#tptProgressReasons").show();
			    });
			    $j("#tptCompleted").click(function(){
			    	$j("#tptProgressReasons").hide();
			    });


			   
		    //     $j("#toxicity").click(function () {
		    //     	//$j("#toxicityTypes").show();
		    //         if ($j(this).is(':checked') == true) {
		    //             $j("#toxicityTypes").show();
		    //         } else {
		    //             $j("#toxicityTypes").hide();
		    //         }
		    //     });


		    });
		}



			$j(document).ready(function(){
        	$j('#toxicity').click(function(){
            if($j(this).prop("checked") == true){
                alert("Checkbox is checked.");
            }
            else if($j(this).prop("checked") == false){
                alert("Checkbox is unchecked.");
            }
        });
    });
	</script>

	<script type="text/javascript">

		if(jQuery){
			$j(document).ready(function(){
				if ( $j.browser.msie ) {
					$j(":checkbox").click(function(){
						$j(this).change();
		     		});
		     	}
		    
			    $j(".checkboxGroup").each(function(){
			        var group = $j(this);
			        var checked = group.find(":checked").closest("td").attr("id");
			       
			        var uncheckAll = function(){
			            group.find("input[type$='checkbox']").attr("checked",false);
			            group.find("input[type$='checkbox']").change();
			        }
			       
			        var showSection = function(which){
			           if(which !=""){
			           var triggerIndex = which.substring(7);
			           var sectionId= "toggleble"+triggerIndex;
			           $j(".togglebles").find("tbody[id$="+sectionId+"]").fadeIn(1000);
			           }
			        }
			        
		       
		        
			        var hideSection = function(which){
			            var sectionId= "toggleble"+which.substring(7);
			            $j(".togglebles").find("tbody[id$="+sectionId+"]").hide();
			        }       
		        
				    group.find("input[type$='checkbox']").click(function(){
				        if(typeof checked != "undefined")
				            hideSection(checked);
				        uncheckAll();
				        $j(this).siblings("input[type$='checkbox']").attr("checked",false);
				        $j(this).attr("checked",true);
				        checked = group.find(":checked").closest("td").attr("id");
				        $j(this).change();
				        showSection($j(this).closest("td").attr("id"));
				    });
		    
		    	});

		 	});
		}

	</script>


	<span style="float:right">Paper Form ID: $paperFormId</span>
	<h2>Confidential HIV CRF - SECTION II: Follow up Information (v0.1)</h2>

	<section headerLabel="1. Encounter Details">
		<table class="baseline-aligned">
			<tr>
				<td>Date:</td>
				<td><encounterDate default="today"/></td>
			</tr>
			<tr>
				<td>Location:</td>
				<td><encounterLocation/></td>
			</tr>
			<tr>
				<td>Provider:</td>
				<td><encounterProvider/></td>
			</tr>
		</table>
	</section>

	<section headerLabel="Demographic Information">

		<table class="baseline-aligned">
			<tr>
				<td>Name:</td>
				<td><lookup class="value" expression="patient.personName"/></td>
			</tr>
			<tr>
				<td>UPID:</td>
				<td><lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('ARCHIVING ID') ) $patId #end "/></td>
			</tr>
			<tr>
				<td>TRACnet ID:</td>
				<td><lookup class="value" complexExpression="#foreach( $patId in $patientIdentifiers.get('TRACnet ID') ) $patId #end "/></td>
			</tr>

	
		</table>

		<table>
			<tr>
				<td> <obs conceptId="$@DEMOGRAPHIC_CHANGE@" labelText="Any change in demographic information?" answerConceptIds="$@YES@, $@NO@" answerLabels="Yes, No" style="radio"/>
				</td>
			</tr>
		</table>
		<br></br>

	</section>

	<section headerLabel="RISK FACTORS">
		<table>
			<tr class="checkboxGroup">
				<td> 
					Any change in risk factors?
					<obs conceptId="$@RISK_FACTOR_CHANGE@" answerConceptId="$@YES@" answerLabel="Yes" id="riskFactorYes"  style="radio"  /> <obs conceptId="$@RISK_FACTOR_CHANGE@" answerConceptId="$@NO@" answerLabel="No" id="riskFactorNo" style="radio"  />
				</td>
			</tr>
			<tr id="sexualPartners">
				<td> 
					<obs conceptId="$@NUMBER_OF_SEXUAL_PARTNERS_NOT_REPORTED_AT_LAST_VISIT@" 
					labelText="Nombre de partenaires sexuels non reportés à la dernière visite (Number # sexual partners not reported at last visit)" />
				</td>
			</tr>
		</table>
		<br></br>

	</section>

	<section headerLabel="CURRENT ART INFORMATION">
		<table width="100%">
			<tr>
				<td> 
					<obs conceptId="$@STABLE@" labelText="STABLE?" answerConceptIds="$@YES@, $@NO@" answerLabels="Yes, No" style="radio"/>
					<br/>
					<br/>
					<obs conceptId="$@LAST_PHARMACY_PICK_UP@" labelText="Last Pharmacy Pick up (Dernière Date de Prescription ARV):"/>
					<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
				</td>
				<td>
					<br/>
					<strong>If there is a change in regimen (observed on the ”Regimen form”) <br/>
						Raison de changement de regimen: (Reason of regimen changes)</strong>
					<br/>
					<br/>
		
					<obs conceptId="$@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED@" labelText="Treatment Failure(Echec du traitement), Drug Interactions(Interactions médicamenteuses)" answerConceptId="$@REGIMEN_FAILURE@" answerLabel=""/>
					<br/>

					<obs conceptId="$@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED@" labelText="Drug Interactions(Interactions médicamenteuses)" answerConceptId="$@INTERACTION_WITH_TUBERCULOSIS_DRUG@" answerLabel=""/>
					<br/>

					<obs conceptId="$@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED@" labelText="Original regimen out of stock(Rupture de stock du régime précédent)" answerConceptId="$@DRUG_OUT_OF_STOCK@" answerLabel=""/>
					<br/>

					<obs conceptId="$@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED@" labelText="Pregnancy(Grossesse)" answerConceptId="$@PATIENT_PREGNANT@" answerLabel="" />
					<br/>

					<obs conceptId="$@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED@" labelText="Toxicity(Toxicité)" answerConceptId="$@TOXICITY@" answerLabel="" id="toxicity" />
					<br/>
					
					<div id="toxicityTypes">
						<strong>If Toxicity, select type:</strong><br/>
						&#160;&#160;&#160;<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="GI (gastro-intestinale)" answerConceptId="$@Gastrointestinal@" answerLabel="GI (gastro-intestinale)" />
						<br/>

						&#160;&#160;&#160;<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="Skin(cutanée)" answerConceptId="$@SKIN_RASH@" answerLabel="" />
						<br/>

						&#160;&#160;&#160;<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="CNS (sytème nerveux)" answerConceptId="$@CNS@" answerLabel="" />
						<br/>

						&#160;&#160;&#160;<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="Kidney dysfunction(rénale)" answerConceptId="$@KIDNEY_DYSFUNCTION@" answerLabel="" />
						<br/>
					</div>
					<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="Hepatic dysfunction/Jaundice (hépatique/ictère)" answerConceptId="$@HEPATIC_DYSFUNCTION@" answerLabel="" />
					<br/>

					<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="Fatigue" answerConceptId="$@FATIGUE@" answerLabel="" />
					<br/>

					<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="Bone dysfunction (osseuse)" answerConceptId="$@BONE_DYSFUNCTION@" answerLabel="" />
					<br/>

					<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="Metabolic(metabolique)" answerConceptId="$@METABOLIC@" answerLabel="" />
					<br/>

					<obs conceptId="$@DRUG_TOXICITY_TYPES@" labelText="Headache (céphalées)" answerConceptId="$@HEADACHE@" answerLabel=" " />
					<br/>
					<br/>
					<br/>
					<obs conceptId="$@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED@" answerConceptId="$@OTHER_NON_CODED@" answerLabel="" style="checkbox"/><strong>
					If Other reason for Regimen Change, specify:</strong> <obs conceptId="$@REASON_ANTIRETROVIRALS_CHANGED_OR_STOPPED_NON_CODED@"/>
				</td>
			</tr>
		</table>
	</section>

	<section headerLabel="CURRENT CLINICAL INFORMATION">
		<table class="baseline-aligned">

			<tr class="checkboxGroup">
				<td>
					<strong><strong>Client Outcome:</strong></strong>
					<br/>
					<br/>
					&#160;&#160;&#160;&#160;&#160; 
					<obs conceptId="$@CASE_BASED_SURVEILLANCE_CLIENT_OUTCOME@" labelText="Alive and on ART" answerConceptId="$@ALIVE_AND_ON_ART@" answerLabel="" id="aliveOnArt"/>
					<br/>
					&#160;&#160;&#160;&#160;&#160;
					<obs conceptId="$@CASE_BASED_SURVEILLANCE_CLIENT_OUTCOME@" labelText="Stopped" answerConceptId="$@TREATMENT_STOPPED@" answerLabel="" id="stoppedArt"/>
					<br/>
					&#160;&#160;&#160;&#160;&#160;
					<obs conceptId="$@CASE_BASED_SURVEILLANCE_CLIENT_OUTCOME@" labelText="LTFU" answerConceptId="$@LOST_TO_FOLLOWUP@" answerLabel="" id="ltfu"/>
					<br/>
					&#160;&#160;&#160;&#160;&#160;
					<obs conceptId="$@CASE_BASED_SURVEILLANCE_CLIENT_OUTCOME@" labelText="Transfer Out (TO)" answerConceptId="$@TRANSFER_OUT_TO@" answerLabel="" id="to"/>
					<br/>
					&#160;&#160;&#160;&#160;&#160;
					<obs conceptId="$@CASE_BASED_SURVEILLANCE_CLIENT_OUTCOME@" labelText="Death" answerConceptId="$@Death@" answerLabel="" id="death"/>
					<br/>
				</td>
			</tr>
			<tr style="border:none;">
				<td>
					<strong><obs conceptId="$@TRANSFER_OUT_TO@" labelText="If Transfer out (), Where To?"  answerLabel="" id="transferTo"/></strong>
				</td>
			</tr>
			<tr>
				<td>
					<strong><obs conceptId="$@Other_Cause_of_Death@" labelText="If Death selected, Death cause (cause de décès):"  answerLabel="" id="deathCause"/></strong>
				</td><br/>

			</tr>
			<tr>
				<td>
					<strong>Outcome date:</strong> <obs conceptId="$@OUTCOME_DATE@" labelText="Outcome date:"/>
				</td>
			</tr>
		</table>
	</section>

	<section>
		<table>
	        <tr>
	            <th class="tableHeader">
	                <strong> ART ADHERENCE</strong>
	            </th>
	            <th class="tableHeader">
	                <strong>TPT OUTCOME</strong>
	            </th>

	        </tr>
	        <tr>
	           <td class="tableHeader">
	                <strong> If VL > 200c/ml, Client Adherence: (Si charge virale>200c/ml,l’ adhérence du client est):</strong> 
	               	<br/>
	                <obs conceptId="$@OVERALL_TREATMENT_ADHERENCE@" labelText="" answerConceptIds="$@GOOD@, $@FAIR@, $@POOR@" answerLabels="Good (Bonne) (meet pill count and come to all appointments), Moderate (Moyenne) (meet pill count and miss appointment(s)), Bad (Mauvaise) (fail pill count and miss appointment(s))" style="radio"/>
	                <br/>
	                <br/>
					<obs conceptId="$@ENHANCED_COUNSELLING@" labelText="Attended Enhanced Counselling:(A-t-il participé aux séances de counselling renforcé?)" answerConceptIds="$@YES@, $@NO@" answerLabels="YES, NO" style="radio"/>
					<br/>
					<obs conceptId="$@ENHANCED_COUNSELLING@" labelText="If yes: completed 3 months:(Si oui, pour les 3 mois?)" answerConceptIds="$@YES@, $@NO@" answerLabels="YES, NO" style="radio"/>
					<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>

	            </td>
	            <td > 
	            	<div class="checkboxGroup" style="relative-position: fixed;">
		                <obs conceptId="$@CLIENT_TPT_OUTCOME@" answerConceptId="$@COMPLETED_TPT@" answerLabel="Completed TPT(Traitement terminé)" id="tptCompleted"  style="radio"  /> 
		                <obs conceptId="$@CLIENT_TPT_OUTCOME@" answerConceptId="$@TPT_THERAPY_IN_PROGRESS@" answerLabel="Therapy in Progress" id="tptInPregress" style="radio"/> 
		            </div> <br/>
	                <div id="tptProgressReasons">
		                <strong> If “Therapy in progess” select, the options below</strong>
		                <br/>
		                 <obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Defaulted(Perdu de vue)" answerConceptId="$@DEFAULTED_TB@" answerLabel=""/> 
		                <br/>
		                <obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Stopped because of adverse events(Arrêt du TPT à cause des effets secondaires)" answerConceptId="$@ADVERSE_EFFECT@" answerLabel=""/> 
		                <br/>

						<obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Defaulted(Perdu de vue)" answerConceptId="$@DEFAULTED_TB@" answerLabel=""/> 
						<br/>
				
						<obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Stopped because of adverse events(Arrêt du TPT à cause des effets secondaires)" answerConceptId="$@ADVERSE_EFFECT@" answerLabel=""/>
						<br/>
			
						<obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Stopped because of development of active TB during TPT (Arrêt du TPT à cause du développement de la TB-maladie)" answerConceptId="$@ACTIVE_TB@" answerLabel=""/>
						<br/>

						<obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Stopped because of contra-indications other than active TB (Arrêt du TPT à cause des contre-indications, autre que la TB-maladie" answerConceptId="$@CONTRAINDICATIONS_OTHER_THAN_ACTIVE_TB@" answerLabel=""/>
						<br/>

						<obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Stopped because of hepatic failure(Arrêt du TPT dû à une insuffisance hépatique)" answerConceptId="$@HEPATIC_FAILURE@" answerLabel=""/>
						<br/>

						<obs conceptId="$@TPT_THERAPY_IN_PROGRESS@" labelText="Stopped because of death on TPT(Arrêt du TPT par décès)" answerConceptId="$@DEATH@" answerLabel=""/>
					</div><br/>
					<strong>Outcome Date:(Date de l’issue du traitement TPT)</strong> &#160;&#160;&#160;&#160;&#160;<obs conceptId="$@TPT_OUTCOME_DATE@" allowFutureDates="true"/>
	            </td>
	        </tr>
        </table>
	</section>

	<submit/>

	
<!-- END OF FORM

Simple examples to copy-and-paste. Full reference at http://wiki.openmrs.org/x/kg8z

SECTION
	<section headerLabel="\#. Title">
		Content
	</section>

NUMERIC OBSERVATION
	<obs conceptId="id-of-numeric-concept" labelText="Label before"/>

DATE OBSERVATION
	<obs conceptId="id-of-date-concept" labelText="Label before"/>

CODED OBSERVATION
(as a dropdown)
	<obs conceptId="id-of-coded-concept" labelText="Label before"/>
(as radio buttons)
	<obs conceptId="id-of-coded-concept" labelText="Label before" style="radio"/>
(as an autocomplete)
	<obs conceptId="id-of-coded-concept" labelText="Label before" style="autocomplete" answerClasses="Diagnosis"/>
(as a checkbox for a specific answer)
	<obs conceptId="id-of-coded-concept" labelText="Label before" answerConceptId="id-of-answer-concept" answerLabel="label for answer"/>
(as a dropdown with specific choices)
	<obs conceptId="id-of-coded-concept" labelText="Label before" answerConceptIds="concept-id-1,concept-id-2,concept-id-3" answerLabels="Label 1,Label 2, Label 3"/>


FREE TEXT OBSERVATION
(as a normal text field)
	<obs conceptId="id-of-text-concept" labelText="Label before"/>
(as a textarea)
	<obs conceptId="id-of-text-concept" labelText="Label before" rows="4" cols="80"/>
-->
</htmlform>